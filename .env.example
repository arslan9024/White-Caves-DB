# ============================================================================
# ENVIRONMENT VARIABLES TEMPLATE - PRODUCTION CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in the actual values
# NEVER commit actual secrets - only commit this template (.env.example)
# ============================================================================

# ============================================================================
# NODE ENVIRONMENT
# ============================================================================
NODE_ENV=production
PORT=5001
LOG_LEVEL=info

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# MongoDB Connection String
# Format: mongodb://username:password@host:port/database?authSource=admin
MONGODB_URI=mongodb://admin:changeme@mongodb:27017/white-caves?authSource=admin

# Or use MongoDB Atlas (cloud):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/white-caves?retryWrites=true&w=majority

# ============================================================================
# REDIS CACHE CONFIGURATION
# ============================================================================
# Redis connection URL for caching and session management
REDIS_URL=redis://redis:6379

# For Redis with authentication:
# REDIS_URL=redis://:password@redis:6379

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# JWT Configuration (REQUIRED FOR PRODUCTION)
# Generate secrets using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# CRITICAL: Use different secrets for JWT_SECRET and JWT_REFRESH_SECRET
JWT_SECRET=<generate_using_crypto_randomBytes_64>
JWT_REFRESH_SECRET=<generate_using_crypto_randomBytes_64_different_from_above>
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Session Secret
SESSION_SECRET=your-session-secret-key-change-in-production

# ============================================================================
# EMAIL SERVICE CONFIGURATION (SendGrid)
# ============================================================================
# Create account at: https://signup.sendgrid.com/
# Get API key from: https://app.sendgrid.com/settings/api_keys
# Free tier: 100 emails/day | Paid: $19.95/month for 40,000 emails
# IMPORTANT: Verify sender email in SendGrid before sending emails
SENDGRID_API_KEY=<your_sendgrid_api_key>
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME=Your Company Name
EMAIL_REPLY_TO=support@your-domain.com

# ============================================================================
# FIREBASE CONFIGURATION (Client-side - prefix with VITE_)
# ============================================================================
VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id

# Firebase Admin SDK (Server-side only - JSON string)
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# ============================================================================
# STRIPE PAYMENT CONFIGURATION
# ============================================================================
VITE_STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================================================
# WHATSAPP CONFIGURATION
# ============================================================================
VITE_WHATSAPP_NUMBER=971563616136
WHATSAPP_API_KEY=your-whatsapp-api-key
WHATSAPP_ACCOUNT_ID=your-whatsapp-account-id
WHATSAPP_PHONE_ID=your-whatsapp-phone-id

# ============================================================================
# EMAIL/SMTP CONFIGURATION
# ============================================================================
# SMTP Server details for email notifications
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=your-email@gmail.com
MAIL_PASS=your-app-password
MAIL_FROM=noreply@whiteaves.com
MAIL_SECURE=true

# Comma-separated list of notification emails
MD_EMAILS=arslanmalikgoraha@gmail.com,admin@whiteaves.com

# ============================================================================
# API CONFIGURATION
# ============================================================================
# Frontend API URL
VITE_API_URL=https://api.whiteaves.com

# Backend API URL (for server-side requests)
API_URL=https://api.whiteaves.com
API_TIMEOUT=30000

# Frontend URL
FRONTEND_URL=https://whiteaves.com

# CORS Configuration (comma-separated origins)
CORS_ORIGIN=https://whiteaves.com,https://www.whiteaves.com

# ============================================================================
# GOOGLE APIS
# ============================================================================
# Google Maps API Key
GOOGLE_API_KEY=your_google_api_key

# Google Analytics
GOOGLE_ANALYTICS_ID=your-google-analytics-id

# ============================================================================
# AWS S3 CONFIGURATION (Optional)
# ============================================================================
# AWS credentials for image/file uploads
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1
AWS_CLOUDFRONT_URL=https://cdn.whiteaves.com

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Sentry Error Tracking (Backend)
SENTRY_DSN=https://key@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Sentry Error Tracking (Frontend) - Phase 1.3
VITE_SENTRY_DSN=https://key@sentry.io/project-id
VITE_SENTRY_ENVIRONMENT=production
VITE_SENTRY_SAMPLE_RATE=0.1

# New Relic APM
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=white-caves-api

# DataDog (alternative to New Relic)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# ============================================================================
# DATABASE CREDENTIALS (Docker Compose)
# ============================================================================
# MongoDB root credentials
MONGO_USER=admin
MONGO_PASSWORD=changeme-production-password

# ============================================================================
# RATE LIMITING
# ============================================================================
# Rate limit configuration (requests)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
ENABLE_COMMISSION_TRACKING=true
ENABLE_ADVANCED_FILTERING=true
ENABLE_ANALYTICS_DASHBOARD=true
ENABLE_NOTIFICATIONS=true
ENABLE_WHATSAPP_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true

# ============================================================================
# SECURITY HEADERS
# ============================================================================
# Content Security Policy
CSP_ENABLED=true

# CORS settings
CORS_ENABLED=true

# HTTPS Redirect
HTTPS_REDIRECT=true

# ============================================================================
# IMPORTANT SECURITY NOTES
# ============================================================================
#
# 1. NEVER commit actual .env files to git - only commit .env.example
# 2. All secrets should be random and unique
# 3. Use strong passwords (minimum 16 characters)
# 4. Rotate keys periodically
# 5. Use environment-specific secrets (dev != prod)
# 6. Store secrets in secure vaults (AWS Secrets Manager, HashiCorp Vault)
# 7. Never log sensitive information
# 8. Keep .env files with restricted file permissions (chmod 600)
#
# GENERATING SECRETS:
#
# OpenSSL (most secure):
#   openssl rand -base64 32
#   openssl rand -hex 32
#
# Python:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# ============================================================================
